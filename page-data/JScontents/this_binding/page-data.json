{"componentChunkName":"component---src-templates-post-template-tsx","path":"/JScontents/this_binding/","result":{"data":{"site":{"siteMetadata":{"author":"yeopto"}},"allMarkdownRemark":{"edges":[{"node":{"html":"<p>로또 미션을 하면서 클래스 내 메서드에서 이벤트 핸들러 함수를 만들다 보니, 콜백이 실행될 때 콜백 내에 있는 this가 이벤트 핸들러 함수를 어떻게 던져줬냐에 따라 this 바인딩이 달라진다. 그 부분에 대해서 알아보자.</p>\n<br>\n<p>먼저 일반함수와 화살표 함수의 this 바인딩은 어떻게 되는지 알아보자.</p>\n<h2>일반함수에서의 this</h2>\n<ol>\n<li>함수 실행시에는 전역 객체(브라우저에서는 window, node에서는 global)를 가리킨다.</li>\n<li>메서드 실행시에는 메서드를 소유하고 있는 객체를 가리킨다.</li>\n<li>생성자 실행시에는 새롭게 만들어진 객체를 가리킨다.</li>\n</ol>\n<p>-> 일반 함수는 함수를 선언할 때 this 바인딩할 객체가 정적으로 결정되는 것이 아니다. 함수를 호출할 때 함수가 어떻게 호출되었는지에 따라 this에 바인딩할 객체가 <strong>동적</strong>으로 결정된다.</p>\n<h2>화살표 함수에서의 this</h2>\n<p>-> 화살표 함수는 함수를 선언할 때 this에 바인딩할 객체가 <strong>정적</strong>으로 결정된다. 화살표 함수의 this는 <strong>언제나 상위 스코프의 this</strong>를 가리킨다!</p>\n<br>\n<p>이제 코드를 보며 어떻게 실행되는지 알아보자!</p>\n<h2>bind()를 사용하지 않고 그냥 넘겨준다면?</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3ed116dfe19069d1fd20001dbd05a8c/02d09/no_bind_code.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQ4y42Ta27bMBCEfY5YovgmJUrWy3ZipW6KAr3/kb6CVAIEbdLmx2CpJTja2Z09xHGhu94I44RUDXVdUdc1dfWGao+1QIi63AkhPsUh9B3t/EQaVqTUSG0QjaTRqkDonJOvZOKfZIWwHyLT7YX1xy+W+0+69Qm7LLjtSrituClho6X5KmF36hgvG/P2QlquuGHCzCN2HXEpIK1B6eZTqX/mDy44THmkOD48UB0zjgXHh1ccK6p6719VVeU7443sPekh9YHgO7T12BCxocX4gHGeEBzeG6wzWK1QSqGtJQRb7nIRf1UYo8OHgG87XExoH1EuoKzHeYd1uigwStFIhTIG/0aoZKk4OyEryvEwn088vXxn285chsTgLWN0Ba3V+Fyx1hgld0iJlpJGCBqp0cbu6mJbqj+ksWNcFx4fF4a+xxlDcBZn9+itxRqNM7rIzshnrWSx2E7oSqtyPITW0diIMA6hDCa0uLbHp7FEGztc12N8LPKqMph9QHkJSu695OxDf7rg141uWhmnE+N5ol8SwzwwzkP5iZLyv1uyT3loiacLl293rvc7622jf9xY7nfOzzeuzzf63u/2EF8wdsrGHi+FKM0L7TDgu4HYn+iHRGw9jWw+9NzHm9JHQoyELpWmKpNhi8eMUSgpvkyWCX8DafqMeslSYE8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c3ed116dfe19069d1fd20001dbd05a8c/a59e9/no_bind_code.webp 192w,\n/static/c3ed116dfe19069d1fd20001dbd05a8c/0ca9f/no_bind_code.webp 384w,\n/static/c3ed116dfe19069d1fd20001dbd05a8c/dc9b9/no_bind_code.webp 768w,\n/static/c3ed116dfe19069d1fd20001dbd05a8c/b36b9/no_bind_code.webp 1020w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c3ed116dfe19069d1fd20001dbd05a8c/3b721/no_bind_code.png 192w,\n/static/c3ed116dfe19069d1fd20001dbd05a8c/66595/no_bind_code.png 384w,\n/static/c3ed116dfe19069d1fd20001dbd05a8c/fe486/no_bind_code.png 768w,\n/static/c3ed116dfe19069d1fd20001dbd05a8c/02d09/no_bind_code.png 1020w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c3ed116dfe19069d1fd20001dbd05a8c/fe486/no_bind_code.png\"\n            alt=\"no_bind\"\n            title=\"no_bind\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<p>지금 처럼 addEventListener함수에 this.handleMoneyInput 메서드를 명시적으로 바인딩 해주지 않고 그대로 던져준다면 handleMoneyInput 내의 this는 메서드 실행시에 메서드를 소유하고 있는 객체를 가리키기 때문에 addEventListener 실행시 addEventListener를 가지고 있는 form 태그로 this가 바인딩된다.</p>\n<h2>그냥 넘겨줄때 결과</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/915e09447841dcba98a1f881dbc189b3/de60c/no_bind_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.541666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVQoz22PTU8TURSGZ8UGNkqCiZpaKJSZ6XxVkBoRCQvixk3RnWLixq0LVv4BdmKiTUMTt6YLF25dufA/4ApJtF9AqnX6Qct07jxm7rQVwZM8N++9Oee971FevPzE4+cfyD4psvG0yMZmkewAeT9HdvM9j559ZP3BFpo2j5GysaybWOkMTnoB5XvpN+WKS6UaUTtqcxhy3KF62KIcvteaI36UftFsw87rPHOqheUsouoGKcNGN2wUzlWv26HdcnHdBr5/ysUS8twtFNCNNMsra1jOAqpuomoGihABQRDQO/WoVKrs7X1l/9sBpVKZ+s8GnZM+vi8QQUDY63meNMzl8pjOLe4sr2KZDqbpMK+mUEKzsFqdHtV6k0bbwz0RdH2o1bt8/nKAEFGqsLff70v9JpfnhmazdHcNx0nLlEndjFYemkYamcYXUapgwMhwkPDdqx0ylye5F5shcz3G7Vgce+rKX0M5JAeHjL74r2Fhe5uViQkeJhLcv3qNpfFxrLGxfw2Ds1rCxYTDld/muDQ5xWxSYyaRZHp6lng8wR9RqvBZa+ZrygAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/915e09447841dcba98a1f881dbc189b3/a59e9/no_bind_result.webp 192w,\n/static/915e09447841dcba98a1f881dbc189b3/0ca9f/no_bind_result.webp 384w,\n/static/915e09447841dcba98a1f881dbc189b3/dc9b9/no_bind_result.webp 768w,\n/static/915e09447841dcba98a1f881dbc189b3/e2c2f/no_bind_result.webp 1152w,\n/static/915e09447841dcba98a1f881dbc189b3/f3efb/no_bind_result.webp 1536w,\n/static/915e09447841dcba98a1f881dbc189b3/9b54d/no_bind_result.webp 2602w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/915e09447841dcba98a1f881dbc189b3/3b721/no_bind_result.png 192w,\n/static/915e09447841dcba98a1f881dbc189b3/66595/no_bind_result.png 384w,\n/static/915e09447841dcba98a1f881dbc189b3/fe486/no_bind_result.png 768w,\n/static/915e09447841dcba98a1f881dbc189b3/d2d74/no_bind_result.png 1152w,\n/static/915e09447841dcba98a1f881dbc189b3/e8464/no_bind_result.png 1536w,\n/static/915e09447841dcba98a1f881dbc189b3/de60c/no_bind_result.png 2602w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/915e09447841dcba98a1f881dbc189b3/fe486/no_bind_result.png\"\n            alt=\"no_bind_result\"\n            title=\"no_bind_result\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<p>결과를 보면 this가 이벤트 발생한 타겟에 바인딩이 되어 form 태그에 바인딩 된 것을 확인할 수 있다. 에러메세지를 보면 at HTMLFormElement.handleMoneyInput이 있는데 handleMoneyInput의 this가 HTMLFormElement에 바인딩 되었기 때문에 HTMLFormElement에는 purchaseMoneyInputView란 프로퍼티를 읽을 수 없다고 나온다. 이걸 해결하기 위해선 this를 명시적으로 바인딩 해주면 된다.</p>\n<h2>bind()를 사용하고 넘겼을 때</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/07775677be302302cbe01fc88cf11510/08158/bind_code.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVQoz5WS2W7bMBBF9R+1uA13SWlsx44COa27AAX6//9zCtFu0SwPzsPFkAPy8gxnujR+Ju8P+JJRakO/uerTGnv6vqdX6hJvUJfHwviwUO92SEgY8ejgMSlgxGGMRn3AtBunwuH8i+PP32xP30mHmXiaycuBuBuRYNtBpdRN6spYyONEyAWlDcpZjHdo1bNZy24vq0a52Vz0l+Zdw1wi4iNWPC5EnA9YJ/ggeO8QcThjMNYRgjSteeNcM3hTcimREDM+JnwqSMrNOMZwuSwOsQbjhBg9KfqWtyIXqlek3XQ/MC+PPB62lBDwVpPF4tZmGIcYTQ5C9o7o7D8lcU3ZCyUINXq8CF0qvv1fzAm7lu4jspLGglvXIaHN+4150+WVsNaEq/fYMpGHgWEaKVOlTpUyDM1ca31jp3u6OiSGh4Xj+QdP5zP75Zn91y88fXtmPs3EFP4z61/Qtfhq39Uxs9sf2c4zZboj1JFYRupQCVFejMgtlF1MHuuuY6A1ep1FpdBXoo+YrYZ/ACI/UPrTFCd4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/07775677be302302cbe01fc88cf11510/a59e9/bind_code.webp 192w,\n/static/07775677be302302cbe01fc88cf11510/0ca9f/bind_code.webp 384w,\n/static/07775677be302302cbe01fc88cf11510/dc9b9/bind_code.webp 768w,\n/static/07775677be302302cbe01fc88cf11510/e2c2f/bind_code.webp 1152w,\n/static/07775677be302302cbe01fc88cf11510/632a5/bind_code.webp 1195w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/07775677be302302cbe01fc88cf11510/3b721/bind_code.png 192w,\n/static/07775677be302302cbe01fc88cf11510/66595/bind_code.png 384w,\n/static/07775677be302302cbe01fc88cf11510/fe486/bind_code.png 768w,\n/static/07775677be302302cbe01fc88cf11510/d2d74/bind_code.png 1152w,\n/static/07775677be302302cbe01fc88cf11510/08158/bind_code.png 1195w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/07775677be302302cbe01fc88cf11510/fe486/bind_code.png\"\n            alt=\"bind\"\n            title=\"bind\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<h2>bind() 사용 후 결과</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ea5b5f639b9c3ed9a6b11077c788c582/2cbae/bind_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.91666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4UlEQVQoz42Sz2sTQRTH8w9UUREPQn+kSZPsbjbJtlZFDJaC5576T1gPHlo9ePEm1No04sWDIkgP4qFge/HQS68qFAQvSaFdq+zGmmx2szud2d2v7GuySaUHH3x5zLzvfHhvZhJPKzt49OQT7i1u4v7DLSwsbcaK1v9qYekjHjzextz8ImRZhqwUkZVUFEpTKGlTSHhMgHMfwg9IgxEEAOeC9v1unTFOteqLlxhLyyhq05BkFbJSICUGAUIIHBzsQ9d11Go1WK1WtxLGHt8XlCtrVeTkAsp3ZpFXNeSkPCYyEhJheGLmQuD30RF0/QdM04TVbsO2bRiGgSAIENkib9RxFM8rVWQUDdM3y5DUSSjFa0hnlT7Qc138OjwkgOu6tBfler1OQOozDGmKKJ6tVpGUSrg1cxc3bs9Cu15GNj/ZBwZ/WnD29tG02/GhXvQ8p4Arq7h85SoUtUSPkskpSI5P9IGhZcPVf6Ld6YAxBs45jo95d9wwVg+4vLyCoaELBBkeSZJGRscHRmYMhmnAsiw4jkO50TDRbDZPdToIPHf+ElLpLEbHUrFioOACbsejLxRdvE9fJYTnsTPv8AR4Eal05myg0XDwZv0rXr/7gvcb37D+YRev3n7GxtZ3gv8v8C/6/3CQshqTSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ea5b5f639b9c3ed9a6b11077c788c582/a59e9/bind_result.webp 192w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/0ca9f/bind_result.webp 384w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/dc9b9/bind_result.webp 768w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/e2c2f/bind_result.webp 1152w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/f3efb/bind_result.webp 1536w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/fb84c/bind_result.webp 2626w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ea5b5f639b9c3ed9a6b11077c788c582/3b721/bind_result.png 192w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/66595/bind_result.png 384w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/fe486/bind_result.png 768w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/d2d74/bind_result.png 1152w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/e8464/bind_result.png 1536w,\n/static/ea5b5f639b9c3ed9a6b11077c788c582/2cbae/bind_result.png 2626w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ea5b5f639b9c3ed9a6b11077c788c582/fe486/bind_result.png\"\n            alt=\"bind_result\"\n            title=\"bind_result\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<p>넘겨줄 때 handleMoneyInput에 현재의 this(LottoController)로 명시적으로 바인딩 시켜준다면 LottoController가 this로 바인딩 된 것을 확인할 수 있다.</p>\n<h2>화살표 함수를 사용한다면?</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fd1d29576dc642f39954bb81c2c21170/69dce/arrow_code.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVQoz5WTSXLbQBAE8Q9hm30wG0AQJEhaVOjg8P9/lA6Bkk0dLFOHiu5TTnV1T+XLDrdbkM7SNE80dX2nhqZpaNt2qx/9V6pCieTDlVBmlBsQxtI7ixgcwih60T0E+gMsU2J//cny+ovx9IJdDtjLEbfuMCUgVf8J+D945ZPHp4x2nrbraKWgU4K2ramfauq6pn4f9+/4XwCHYJHS0EuF1AapDEIqtFFoLVFSIIWg6/tPDpu7R+5V5SkxrxcO64Flnsk5Y0JmzIG5BErwJG+Jg2MwCqcVXisGo2+9uSlYjVGKyjqDHSLWe5QyKOswPqJdQFmP9mFzv219G7X5p7vNYUweEyZkmrcs85gIU8TnSCwJ6Rxd1z6U35ZhHgPDeGR9eeX4fGVcf1DOz+wvJ5bzCeOH751NLoE87pmOZ9I44fOIi4WYwgZ72/z9Ih4AeoQQNF13O5H3X/JRvwN7A/4GtcU1jnEOUFkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/fd1d29576dc642f39954bb81c2c21170/a59e9/arrow_code.webp 192w,\n/static/fd1d29576dc642f39954bb81c2c21170/0ca9f/arrow_code.webp 384w,\n/static/fd1d29576dc642f39954bb81c2c21170/dc9b9/arrow_code.webp 768w,\n/static/fd1d29576dc642f39954bb81c2c21170/e2c2f/arrow_code.webp 1152w,\n/static/fd1d29576dc642f39954bb81c2c21170/3fdec/arrow_code.webp 1194w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/fd1d29576dc642f39954bb81c2c21170/3b721/arrow_code.png 192w,\n/static/fd1d29576dc642f39954bb81c2c21170/66595/arrow_code.png 384w,\n/static/fd1d29576dc642f39954bb81c2c21170/fe486/arrow_code.png 768w,\n/static/fd1d29576dc642f39954bb81c2c21170/d2d74/arrow_code.png 1152w,\n/static/fd1d29576dc642f39954bb81c2c21170/69dce/arrow_code.png 1194w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/fd1d29576dc642f39954bb81c2c21170/fe486/arrow_code.png\"\n            alt=\"arrow\"\n            title=\"arrow\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<p>화살표 함수는 호출 시 동적으로 this가 바인딩 되지않고 선언시에 정적으로 바인딩 되는데 상위 스코프의 this로 바인딩 된다고 했다.</p>\n<h2>화살표 함수 사용 결과</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89172a6133b9c1023b078cce9dc98f30/ce7ad/arrow_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.52083333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABrUlEQVQoz5WRPW8TQRCG/UtwnDjIMT6DffGRkILfQYtkREUsQUFBR0tJT0cBCPkKRE8DwkmqIAokiygX7hzJd+c73/fHg3aRnSgBBCO9endndp+d0VYePXnL02cfePD4Hf1dnf5Ap787/KWBzr1z6g+G3H/4njt3n9PTtlB7W7RvbNJoKlxrqyjtDpUgzPDnCWGUEscZWQ65UAFpVsp8FGeyFoYJIj5+GqH2tumqN1G1HVpKh/WrDZqt61Q4H2WJaf7AMI45OvqOPZ1eKBfS9/b3JVB02NhoSW00FZR2l0pZlggVRYHjuhjGCaZp4bozfN/HsizyPBdvSRfxeTRiU9vm1s5tOqpGp6vJfUuMLGAiijzHMk6wJhOCIJC5NE0Zj8dL0MJHoz2qtTq11XXW6g3p1ZU1rlRXz4BlnBB8/YbjeURRdGHU8hJQXBaQhVZqdakzYJoSGyZ+EEig6C5JkiVEnPsdcAG6BCyKksnpKZ7nEoYB87mP69g4jv3XDv8ITLOCY9PDdgJmXoTnx8y8mKk9lx/238Asy3k1POTFywNe64fL9Rv9C2ma/zPwJ2fiXlWW7d/jAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/89172a6133b9c1023b078cce9dc98f30/a59e9/arrow_result.webp 192w,\n/static/89172a6133b9c1023b078cce9dc98f30/0ca9f/arrow_result.webp 384w,\n/static/89172a6133b9c1023b078cce9dc98f30/dc9b9/arrow_result.webp 768w,\n/static/89172a6133b9c1023b078cce9dc98f30/e2c2f/arrow_result.webp 1152w,\n/static/89172a6133b9c1023b078cce9dc98f30/f3efb/arrow_result.webp 1536w,\n/static/89172a6133b9c1023b078cce9dc98f30/b4865/arrow_result.webp 2582w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/89172a6133b9c1023b078cce9dc98f30/3b721/arrow_result.png 192w,\n/static/89172a6133b9c1023b078cce9dc98f30/66595/arrow_result.png 384w,\n/static/89172a6133b9c1023b078cce9dc98f30/fe486/arrow_result.png 768w,\n/static/89172a6133b9c1023b078cce9dc98f30/d2d74/arrow_result.png 1152w,\n/static/89172a6133b9c1023b078cce9dc98f30/e8464/arrow_result.png 1536w,\n/static/89172a6133b9c1023b078cce9dc98f30/ce7ad/arrow_result.png 2582w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/89172a6133b9c1023b078cce9dc98f30/fe486/arrow_result.png\"\n            alt=\"arrow_result\"\n            title=\"arrow_result\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<p>LottoController가 바인딩 된 것을 확인할 수 있다. 근데 왜 상위 스코프의 this가 LottoContoller일까?</p>\n<h2>화살표 함수 사용했을때의 스코프</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/04b2360eba67ea844e5fa43001b09bb8/b1b5c/arrow_debugger.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+0lEQVQoz32ST0/UQBiH91MsRLLsbttpOzPtdLvttoWy/xDRRC8ePHs0nkxcFPTgxYvxExhCWBUREgIse5Mv95hWTpp4ePImM8kz7zvvr7G5vcfLVx85+PCZ5y8+YZJnSKUwvZTQxLQ7XTxfE4S9muqsIghj+v2EcWnY2tBMRzGjDUnj67dzDo/O+HJ4ys+zG968fU9eZPTTAqUCkkGM6yvaHZuuJWo6XYf1toXrejx+WLI96lFmDkXSpbG8WXD64zvz+REXF+fMZjO0DgiCCMcWFAPNRh6Q9HPKckIcD7Adj9a6jet0eLorefIgYpK3GGdrNE5OTjg+PmY+n7NcLnk926O5cg9XpYSDKWGk0KGPJ31Ehe8iXIElBFJ7PNqJ2ZkY7o8DpkNJ4+rqisViQVVvb3+xv/+OZnMVoRJUNiYeJiRbCf1cYnJFnGvSIkDHPn4UoPtbqHCAJQxdJ6RRya6vr7m8vLwTHrCyuoZtC2zLQcse2aBHloYUWUyRp/XftloWXUeRFZv4UuP5CqkCGpXsb2GzEgof4UqU7pGkEWEgCUOFMRLbEbQ7FraryMoJnopwpSGI0j8dVvzToePh+5rIKEyk8FX1gEe7K1hv2/WWLdtjvL1LsTkiuIvT/4UyJDIhSaIxRtf5dIRf31m2W09QDieUw2ktrPL6G7hzSzeTtvmXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/04b2360eba67ea844e5fa43001b09bb8/a59e9/arrow_debugger.webp 192w,\n/static/04b2360eba67ea844e5fa43001b09bb8/0ca9f/arrow_debugger.webp 384w,\n/static/04b2360eba67ea844e5fa43001b09bb8/dc9b9/arrow_debugger.webp 768w,\n/static/04b2360eba67ea844e5fa43001b09bb8/e2c2f/arrow_debugger.webp 1152w,\n/static/04b2360eba67ea844e5fa43001b09bb8/f3efb/arrow_debugger.webp 1536w,\n/static/04b2360eba67ea844e5fa43001b09bb8/373d8/arrow_debugger.webp 2864w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/04b2360eba67ea844e5fa43001b09bb8/3b721/arrow_debugger.png 192w,\n/static/04b2360eba67ea844e5fa43001b09bb8/66595/arrow_debugger.png 384w,\n/static/04b2360eba67ea844e5fa43001b09bb8/fe486/arrow_debugger.png 768w,\n/static/04b2360eba67ea844e5fa43001b09bb8/d2d74/arrow_debugger.png 1152w,\n/static/04b2360eba67ea844e5fa43001b09bb8/e8464/arrow_debugger.png 1536w,\n/static/04b2360eba67ea844e5fa43001b09bb8/b1b5c/arrow_debugger.png 2864w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/04b2360eba67ea844e5fa43001b09bb8/fe486/arrow_debugger.png\"\n            alt=\"arrow_debugger\"\n            title=\"arrow_debugger\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<br>\n<p>상위 스코프의 this로 바인딩 해준다고 했는데 Local 스코프 바로 위에 있는 스코프를 보니 start 메서드를 기억하는 클로저가 있다. start 메서드(outer function) 안에 화살표 함수(inner function)가 있기 때문에 화살표 함수는 start메서드를 기억하는 클로저를 스코프로 가지게 된 것 같다. 그래서 화살표 함수의 Local보다 바로 위 상위 스코프인 start와 관련된 클로저를 참조하여 화살표 함수는 this를 바인딩 하였고, start 메서드의 this는 LottoController라서 화살표 함수의 this에 LottoController가 바인딩된 것 같다.</p>\n<br>\n<p>위에서 본 것처럼 화살표 함수는 일반 함수와 다르게 this 바인딩이 되기 때문에 콜백 함수로 사용할 땐 주의해서 사용해야한다고 한다. this가 항상 헷갈렸는데 이번 기회에 정리해보았다. 내가 만든 코드로 적용하고 확인해보니 좀 더 잘 이해할 수 있었던 것 같다. 끗.</p>\n<h2>Reference</h2>\n<p><a href=\"https://poiemaweb.com/es6-arrow-function\" target=\"_blank\" rel=\"nofollow\"><strong>Poiemaweb-arrow-function</strong></a></p>","frontmatter":{"title":"[JS] this 바인딩","summary":"addEventListener에서의 this 바인딩","date":"2023.02.26.","categories":["JS"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQoz2P4cCsAF3p/M+D7g8B/z4I+3Ql8dyPg6/2A/8+D/z0L/nIPJPXhVgADHp3f7gee3OG5YIrT43N+Px8FXj3kM73bcc4Ex3unfL/eC3x/E7fmN9f9/78I7mywk5bTuXbE59YxHzs7I3VNPUUlXVdn40fn/D7fwa35LVhzf6u9qrruo3O+s/ud5BR0T2z3PLXTc/YEx3c3Aj7eJqS5r8VeWVX3/hnftfNc5RR0aktsHp/z/f8m5NMd3M5+fzPg9TWw5mZ7NXW9K4e8P9wKyEy2lJXX1dXVb6+1e4vH5s93Ar7cDfz3DGSzmobexf3e/18Ef3sUuGmxa1SouYy8zpROh9+Pg7Bo/ng74Pklv5PbPf+/D+lvsVdV07t+xOfCPu8dK9z+fw59dyfAytIwKdbi671AdM3vbgT8ehzU1QAKp7pSGztbI1sbo7fX/bNAbtapKLAuyraWU9DtqLf7hWnz+5sgB18/4pObamlmZujnbbpzpfuvR4F3TvhUFlpbWxlZWxnWltg8u4gjqiDJ49v9wFdX/T/cCvj+EBSwX+8F/ngY+Oaa/5vr/t8fBn6+CwptAJdrjPYzZvDjAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/99c26c81d2ef42e45137333c8f29aa28/ddad7/javascript.png","srcSet":"/static/99c26c81d2ef42e45137333c8f29aa28/602a4/javascript.png 450w,\n/static/99c26c81d2ef42e45137333c8f29aa28/4c0f7/javascript.png 900w,\n/static/99c26c81d2ef42e45137333c8f29aa28/ddad7/javascript.png 1800w","sizes":"(min-width: 1800px) 1800px, 100vw"},"sources":[{"srcSet":"/static/99c26c81d2ef42e45137333c8f29aa28/06689/javascript.webp 450w,\n/static/99c26c81d2ef42e45137333c8f29aa28/eca74/javascript.webp 900w,\n/static/99c26c81d2ef42e45137333c8f29aa28/23de5/javascript.webp 1800w","type":"image/webp","sizes":"(min-width: 1800px) 1800px, 100vw"}]},"width":1800,"height":1012}},"publicURL":"/static/99c26c81d2ef42e45137333c8f29aa28/javascript.png"}}}}]}},"pageContext":{"slug":"/JScontents/this_binding/"}},"staticQueryHashes":[]}